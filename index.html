<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>订位系统</title>
	<script type="text/javascript" src="./jquery.min.js"></script>
	<script type="text/javascript" src="./jquery.maphilight.js"></script>
</head>
<body>
	<!-- 样式 -->
	<style type="text/css">
		* {margin: 0; padding: 0;}
		html{font-size: 100px;}
		body{font-family: 'Open Sans', sans-serif, '宋体'; font-size: 0.12rem; color: #333333; font-weight: normal;}
		a{text-decoration: none; color: #333333;}
		area{outline: none;}
		img {border: 0; max-width: 100%; max-height: 100%;}
		#lbresult{width: 100vw;height: 100vh;text-align: center;}
		#lbresult img{margin: 0 auto;}
		div {margin: 0 auto;}
	</style>
	<!-- 内容区 -->
	<div id="lbresult">
		<img src="./bg.jpg" usemap="#map" id="bgimg" border="0"/>  
		<map id="map" name="map"></map>
	</div>
	<!-- js代码 -->
	<script type="text/javascript">
		var imgw = 375; //图片正常宽度
		var imgh = 667; //图片正常高度
		var rate = 1;
		var siteParma = [
			{name: '香奈儿', site: '94, 297, 111, 308', type: 'rect'},
			{name: '卡地亚', site: '118, 297, 135, 308', type: 'rect'},
			{name: '古驰', site: '140, 297, 158, 308', type: 'rect'},
			{name: 'LV', site: '225, 297, 240, 308', type: 'rect'},
			{name: '圣罗兰', site: '245, 297, 266, 308', type: 'rect'},
			{name: 'A1', site: '270, 298, 284, 313', type: 'rect'},
			{name: 'A2', site: '276, 317, 291, 334', type: 'rect'},
			{name: 'A3', site: '284, 342, 299, 358', type: 'rect'},
			{name: 'A5', site: '291, 364, 307, 381', type: 'rect'},
			{name: 'A6', site: '301, 392, 316, 410', type: 'rect'},
			{name: 'A8', site: '311, 422, 328, 443', type: 'rect'},
			{name: 'A9', site: '323, 457, 339, 478', type: 'rect'},
			{name: 'A10', site: '332, 490, 350, 515', type: 'rect'},
			{name: 'A11', site: '345, 567, 375, 596', type: 'rect'},
			{name: 'A12', site: '297, 567, 325, 596', type: 'rect'},
			{name: 'A13', site: '256, 567, 285, 596', type: 'rect'},
			{name: 'A15', site: '208, 567, 235, 596', type: 'rect'},
			{name: 'A16', site: '171, 567, 195, 596', type: 'rect'},
			{name: 'A18', site: '117, 567, 144, 596', type: 'rect'},
			{name: 'A19', site: '76, 567, 103, 596', type: 'rect'},
			{name: 'A20', site: '47, 472, 39, 499, 50, 499, 57, 473', type: 'poly'},
		];
		var imgobj = document.getElementById('bgimg');
		var mapobj = document.getElementById('map');
		//图片加载完成
		imgobj.onload = function() {
			initMap();
			$('#bgimg').maphilight();
		}
		//初始化地图
		function initMap() {
			var nowimgw = imgobj.width;
			rate = nowimgw / imgw;
			var html = '';
			for (var i in siteParma) {
				html += '<area shape="'+siteParma[i].type+'" coords="'+getRateCoord(siteParma[i].site, rate)+'" href="#" title="'+siteParma[i].name+'"/>'
			}
			mapobj.innerHTML = html;
		}
		//获取比例坐标
		function getRateCoord(coord, rate) {
			var coordstr = '';
			var coord = coord.split(',');
			for (var j = 0; j < coord.length; j++) {
				if (j === 0) {
					coordstr = coord[j]*rate;
				} else {
					coordstr += ',' + coord[j]*rate;
				}
			}
			return coordstr;
		}
		//屏幕伸缩响应
		window.onresize = function() {
			var nowimgw = imgobj.width;
			rate = nowimgw / imgw;
			var element = mapobj.childNodes;  
            for (var i = 0; i < element.length; i++) {
                element[i].setAttribute('coords', getRateCoord(siteParma[i].site, rate));
            }
		}

		document.addEventListener('click', function (e) {
	        console.log(e.clientX, 'x')
	        console.log(e.clientY, 'y')
	    });
	</script>
</body>
</html>