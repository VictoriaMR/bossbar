<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0, user-scalable=yes" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>订位系统</title>
	<script type="text/javascript" src="./jquery.min.js"></script>
	<script type="text/javascript" src="./jquery.maphilight.js"></script>
</head>
<body>
	<!-- 样式 -->
	<style type="text/css">
		* {margin: 0; padding: 0;}
		html{font-size: 100px;}
		body{font-family: 'Open Sans', sans-serif, '宋体'; font-size: 0.12rem; color: #333333; font-weight: normal;}
		a{text-decoration: none; color: #333333;}
		area{outline: none;}
		img {border: 0; max-width: 100%; max-height: 100%; pointer-events:none;}
		#lbresult{width: 100vw;height: 100vh;text-align: center;}
		#lbresult img{margin: 0 auto;}
		div {margin: 0 auto;}
	</style>
	<!-- 内容区 -->
	<div id="lbresult">
		<img src="./bg.jpg" usemap="#map" id="bgimg" border="0"/>  
		<map id="map" name="map"></map>
	</div>
	<!-- js代码 -->
	<script type="text/javascript">
		var imgw = 375; //图片正常宽度
		var imgh = 667; //图片正常高度
		var rate = 1;
		var siteParma = [
			{name: '香奈儿', site: '94, 297, 111, 308', type: 'rect'},
			{name: '卡地亚', site: '118, 297, 135, 308', type: 'rect'},
			{name: '古驰', site: '140, 297, 158, 308', type: 'rect'},
			{name: 'LV', site: '225, 297, 240, 308', type: 'rect'},
			{name: '圣罗兰', site: '245, 297, 266, 308', type: 'rect'},
			{name: 'A1', site: '270, 298, 284, 313', type: 'rect'},
			{name: 'A2', site: '276, 317, 291, 334', type: 'rect'},
			{name: 'A3', site: '284, 342, 299, 358', type: 'rect'},
			{name: 'A5', site: '291, 364, 307, 381', type: 'rect'},
			{name: 'A6', site: '301, 392, 316, 410', type: 'rect'},
			{name: 'A8', site: '311, 422, 328, 443', type: 'rect'},
			{name: 'A9', site: '323, 457, 339, 478', type: 'rect'},
			{name: 'A10', site: '332, 490, 350, 515', type: 'rect'},
			{name: 'A11', site: '345, 567, 375, 596', type: 'rect'},
			{name: 'A12', site: '297, 567, 325, 596', type: 'rect'},
			{name: 'A13', site: '256, 567, 285, 596', type: 'rect'},
			{name: 'A15', site: '208, 567, 235, 596', type: 'rect'},
			{name: 'A16', site: '171, 567, 195, 596', type: 'rect'},
			{name: 'A18', site: '117, 567, 144, 596', type: 'rect'},
			{name: 'A19', site: '76, 567, 103, 596', type: 'rect'},
			{name: 'A20', site: '47, 472, 39, 499, 50, 499, 57, 473', type: 'poly'},
			{name: 'A21', site: '59, 435, 52, 454, 65, 455, 71, 435', type: 'poly'},
			{name: 'A22', site: '69, 400, 64, 416, 77, 417, 81, 400', type: 'poly'},
			{name: 'A23', site: '82, 347, 78, 365, 91, 365, 94, 347', type: 'poly'},
			{name: 'A25', site: '91, 320, 86, 339, 98, 339, 102, 320', type: 'poly'},
			{name: 'A26', site: '104, 326, 100, 343, 113, 343, 117, 326', type: 'poly'},
			{name: 'A28', site: '99, 347, 95, 364, 107, 364, 111, 347', type: 'poly'},
			{name: 'A29', site: '93, 369, 89, 389, 102, 389, 106, 369', type: 'poly'},
			{name: 'A30', site: '82, 420, 76, 442, 89, 442, 94, 420', type: 'poly'},
			{name: 'A31', site: '70, 458, 64, 484, 78, 484, 84, 459', type: 'poly'},
			{name: 'A32', site: '60, 502, 54, 528, 67, 528, 73, 502', type: 'poly'},
			{name: 'A33', site: '97, 501, 92, 528, 106, 528, 110, 501', type: 'poly'},
			{name: 'A35', site: '104, 458, 99, 484, 114, 484, 118, 458', type: 'poly'},
			{name: 'A36', site: '112, 420, 107, 445, 122, 446, 126, 420', type: 'poly'},
			{name: 'A38', site: '122, 368, 117, 387, 131, 387, 135, 368', type: 'poly'},
			{name: 'A39', site: '126, 346, 122, 363, 136, 364, 140, 346', type: 'poly'},
			{name: 'A50', site: '130, 324, 126, 343, 140, 343, 144, 324', type: 'poly'},
			{name: 'A51', site: '230, 326, 233, 342, 247, 343, 244, 326', type: 'poly'},
			{name: 'A52', site: '234, 347, 236, 364, 251, 364, 248, 347', type: 'poly'},
			{name: 'A53', site: '239, 369, 241, 387, 256, 387, 253, 369', type: 'poly'},
			{name: 'A55', site: '245, 422, 249, 447, 265, 446, 261, 422', type: 'poly'},
			{name: 'A56', site: '252, 460, 256, 486, 272, 486, 268, 461', type: 'poly'},
			{name: 'A58', site: '259, 500, 262, 528, 280, 528, 276, 501', type: 'poly'},
			{name: 'A59', site: '298, 500, 304, 528, 320, 528, 314, 500', type: 'poly'},
			{name: 'A60', site: '288, 460, 294, 486, 309, 486, 303, 461', type: 'poly'},
			{name: 'A61', site: '281, 425, 286, 449, 302, 449, 296, 426', type: 'poly'},
			{name: 'A62', site: '266, 369, 270, 388, 286, 388, 281, 369', type: 'poly'},
			{name: 'A63', site: '261, 346, 265, 365, 281, 365, 277, 346', type: 'poly'},
			{name: 'A65', site: '257, 325, 261, 344, 276, 344, 272, 324', type: 'poly'},
			{name: '666', site: '210, 507, 237, 529', type: 'rect'},
			{name: '888', site: '173, 507, 199, 529', type: 'rect'},
			{name: '999', site: '138, 507, 163, 529', type: 'rect'},
			{name: '天枰座', site: '134, 468, 156, 485', type: 'rect'},
			{name: '天蝎座', site: '162, 468, 184, 485', type: 'rect'},
			{name: '射手座', site: '188, 468, 211, 485', type: 'rect'},
			{name: '魔羯座', site: '216, 468, 240, 485', type: 'rect'},
			{name: '双子座', site: '138, 426, 161, 443', type: 'rect'},
			{name: '巨蟹座', site: '162, 426, 184, 443', type: 'rect'},
			{name: '狮子座', site: '188, 426, 210, 443', type: 'rect'},
			{name: '处女座', site: '213, 426, 236, 443', type: 'rect'},
			{name: '白羊座', site: '160, 387, 183, 402', type: 'rect'},
			{name: '金牛座', site: '190, 387, 212, 402', type: 'rect'},
			{name: '水瓶座', site: '160, 359, 184, 375', type: 'rect'},
			{name: '双鱼座', site: '189, 359, 213, 375', type: 'rect'},
		];
		var imgobj = document.getElementById('bgimg');
		var mapobj = document.getElementById('map');
		//图片加载完成
		imgobj.onload = function() {
			initMap();
			$('#bgimg').maphilight();
		}
		//初始化地图
		function initMap() {
			var nowimgw = imgobj.width;
			rate = nowimgw / imgw;
			var html = '';
			for (var i in siteParma) {
				html += '<area shape="'+siteParma[i].type+'" coords="'+getRateCoord(siteParma[i].site, rate)+'" href="javascript:;" title="'+siteParma[i].name+'"/>'
			}
			mapobj.innerHTML = html;
		}
		//获取比例坐标
		function getRateCoord(coord, rate) {
			var coordstr = '';
			var coord = coord.split(',');
			for (var j = 0; j < coord.length; j++) {
				if (j === 0) {
					coordstr = coord[j]*rate;
				} else {
					coordstr += ',' + coord[j]*rate;
				}
			}
			return coordstr;
		}
		//屏幕伸缩响应
		window.onresize = function() {
			var nowimgw = imgobj.width;
			rate = nowimgw / imgw;
			var element = mapobj.childNodes;  
            for (var i = 0; i < element.length; i++) {
                element[i].setAttribute('coords', getRateCoord(siteParma[i].site, rate));
            }
		}

		document.addEventListener('click', function (e) {
	        console.log(e.clientX, 'x')
	        console.log(e.clientY, 'y')
	    });
	</script>
</body>
</html>